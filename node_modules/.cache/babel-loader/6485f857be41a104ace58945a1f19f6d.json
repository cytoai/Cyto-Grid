{"ast":null,"code":"export function collisionDetection(mousePosition) {\n  // Check if any selectable item is overlaping with mouse selection box \n  var rectancle1 = reCalcWithoutPixelString(mousePosition);\n  var elements = document.getElementsByName('selectableElement'); // Check collisions with selectable elements\n\n  var collisions = [];\n\n  for (var i = 0; i < elements.length; i++) {\n    var element = elements[i];\n    var rectancle2 = element.getBoundingClientRect();\n    var listId = element.getAttribute('listId');\n    var collisionDetected = collisionWithRectancle(rectancle1, rectancle2);\n\n    if (collisionDetected) {\n      collisions.push(listId);\n    }\n  }\n\n  return collisions;\n}\nexport function reCalc(mousePosition) {\n  // Calculate rectangle positon\n  var doc = document.documentElement;\n  var scrollOffsetY = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n  var scrollOffsetX = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n  console.lo(scrollOffsetY);\n  var x3 = Math.min(mousePosition.x1, mousePosition.x2); //Smaller X\n\n  var x4 = Math.max(mousePosition.x1, mousePosition.x2); //Larger X\n\n  var y3 = Math.min(mousePosition.y1, mousePosition.y2); //Smaller Y\n\n  var y4 = Math.max(mousePosition.y1, mousePosition.y2); //Larger Y\n\n  var left = x3 + 'px';\n  var top = y3 + scrollOffsetY + 'px';\n  var width = x4 - x3 + scrollOffsetX + 'px';\n  var height = y4 - y3 + 'px';\n  return {\n    left: left,\n    top: top,\n    width: width,\n    height: height\n  };\n}\nexport function reCalcWithoutPixelString(mousePosition) {\n  var doc = document.documentElement;\n  var scrollOffsetY = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n  var scrollOffsetX = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n  var x3 = Math.min(mousePosition.x1, mousePosition.x2); //Smaller X\n\n  var x4 = Math.max(mousePosition.x1, mousePosition.x2); //Larger X\n\n  var y3 = Math.min(mousePosition.y1, mousePosition.y2); //Smaller Y\n\n  var y4 = Math.max(mousePosition.y1, mousePosition.y2); //Larger Y\n\n  var left = x3;\n  var top = y3 + scrollOffsetY;\n  var width = x4 - x3 + scrollOffsetX;\n  var height = y4 - y3;\n  return {\n    x: left,\n    y: top,\n    width: width,\n    height: height\n  };\n}\n\nfunction collisionWithRectancle(rectancle1, rectancle2) {\n  // Check if two rectangles overlap\n  if (rectancle1.x < rectancle2.x + rectancle2.width && rectancle1.x + rectancle1.width > rectancle2.x && rectancle1.y < rectancle2.y + rectancle2.height && rectancle1.y + rectancle1.height > rectancle2.y) {\n    return true;\n  } else return false;\n}\n\nexport function getOffsetToMouse(elementId, mousePosition) {\n  //Calculate distance from element to mouse position\n  var doc = document.documentElement;\n  var scrollOffsetY = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n  var scrollOffsetX = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n  var element = document.getElementById(\"dragPreview\" + elementId).parentElement;\n  var test = element.getBoundingClientRect();\n  var offsetLeft = test.left;\n  var offsetTop = test.top;\n  var x = mousePosition.x2 - offsetLeft + scrollOffsetX;\n  var y = mousePosition.y2 - offsetTop + scrollOffsetY;\n  return {\n    x: x,\n    y: y\n  };\n}","map":{"version":3,"sources":["/Users/cfriedri/Documents/work/windowing/src/helper.js"],"names":["collisionDetection","mousePosition","rectancle1","reCalcWithoutPixelString","elements","document","getElementsByName","collisions","i","length","element","rectancle2","getBoundingClientRect","listId","getAttribute","collisionDetected","collisionWithRectancle","push","reCalc","doc","documentElement","scrollOffsetY","window","pageYOffset","scrollTop","clientTop","scrollOffsetX","pageXOffset","scrollLeft","clientLeft","console","lo","x3","Math","min","x1","x2","x4","max","y3","y1","y2","y4","left","top","width","height","x","y","getOffsetToMouse","elementId","getElementById","parentElement","test","offsetLeft","offsetTop"],"mappings":"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","sourcesContent":["export function collisionDetection(mousePosition){\n    // Check if any selectable item is overlaping with mouse selection box \n    const rectancle1 = reCalcWithoutPixelString(mousePosition)\n    const elements = document.getElementsByName('selectableElement') // Check collisions with selectable elements\n    let collisions = []\n    for (let i = 0; i < elements.length; i++) {\n        const element = elements[i]\n        const rectancle2 = element.getBoundingClientRect()\n        const listId = element.getAttribute('listId')\n        const collisionDetected = collisionWithRectancle(rectancle1, rectancle2)\n        if(collisionDetected){ collisions.push(listId) }\n    }\n    return collisions\n}\n\nexport function reCalc(mousePosition) { \n    // Calculate rectangle positon\n    let doc = document.documentElement;\n    const scrollOffsetY = (window.pageYOffset || doc.scrollTop)  - (doc.clientTop || 0); \n    const  scrollOffsetX = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n    console.lo(scrollOffsetY)\n    let x3 = Math.min(mousePosition.x1, mousePosition.x2); //Smaller X\n    let x4 = Math.max(mousePosition.x1, mousePosition.x2); //Larger X\n    let y3 = Math.min(mousePosition.y1, mousePosition.y2); //Smaller Y\n    let y4 = Math.max(mousePosition.y1, mousePosition.y2); //Larger Y\n    let left = x3 + 'px';\n    let top = y3 + scrollOffsetY + 'px';\n    let width = x4 - x3 + scrollOffsetX+ 'px';\n    let height = y4 - y3 + 'px';\n    return {left: left, top: top, width: width, height: height}\n}\n\n\nexport function reCalcWithoutPixelString(mousePosition) { \n    let doc = document.documentElement;\n    const scrollOffsetY = (window.pageYOffset || doc.scrollTop)  - (doc.clientTop || 0); \n    const  scrollOffsetX = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n    let x3 = Math.min(mousePosition.x1, mousePosition.x2); //Smaller X\n    let x4 = Math.max(mousePosition.x1, mousePosition.x2); //Larger X\n    let y3 = Math.min(mousePosition.y1, mousePosition.y2); //Smaller Y\n    let y4 = Math.max(mousePosition.y1, mousePosition.y2); //Larger Y\n    let left = x3\n    let top = y3 + scrollOffsetY\n    let width = x4 - x3 + scrollOffsetX\n    let height = y4 - y3\n    return {x: left, y: top, width: width, height: height}\n}\n\nfunction collisionWithRectancle(rectancle1, rectancle2) {\n    // Check if two rectangles overlap\n    if (rectancle1.x < rectancle2.x + rectancle2.width &&\n        rectancle1.x + rectancle1.width > rectancle2.x &&\n        rectancle1.y < rectancle2.y + rectancle2.height &&\n        rectancle1.y + rectancle1.height > rectancle2.y) {\n            return true\n     } else return false\n}\n\nexport function getOffsetToMouse(elementId, mousePosition){\n    //Calculate distance from element to mouse position\n    let doc = document.documentElement;\n    const  scrollOffsetY = (window.pageYOffset || doc.scrollTop)  - (doc.clientTop || 0); \n    const  scrollOffsetX = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n    const element = document.getElementById(\"dragPreview\" + elementId).parentElement\n    const test = element.getBoundingClientRect()\n    const offsetLeft = test.left\n    const offsetTop = test.top    \n    const x =  mousePosition.x2 - offsetLeft + scrollOffsetX\n    const y = mousePosition.y2 - offsetTop + scrollOffsetY\n    return {x: x, y: y} \n}"]},"metadata":{},"sourceType":"module"}