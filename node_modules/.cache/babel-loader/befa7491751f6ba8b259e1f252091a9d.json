{"ast":null,"code":"import _classCallCheck from \"/Users/cfriedri/Documents/work/windowing/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/cfriedri/Documents/work/windowing/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/cfriedri/Documents/work/windowing/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/cfriedri/Documents/work/windowing/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/cfriedri/Documents/work/windowing/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/cfriedri/Documents/work/windowing/src/costumDragLayer.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { DragLayer } from 'react-dnd';\nvar layerStyles = {\n  position: 'fixed',\n  pointerEvents: 'none',\n  zIndex: 100,\n  left: 0,\n  top: 0,\n  width: '100%',\n  height: '100%'\n};\n\nfunction getItemStyles(props) {\n  var currentOffset = props.currentOffset;\n\n  if (!currentOffset) {\n    return {\n      display: 'none'\n    };\n  }\n\n  var x = currentOffset.x,\n      y = currentOffset.y;\n  var transform = \"translate(\".concat(x, \"px, \").concat(y, \"px)\");\n  return {\n    transform: transform,\n    WebkitTransform: transform\n  };\n}\n\nvar swapArrayElements = function swapArrayElements(arr, indexA, indexB) {\n  var temp = arr[indexA];\n  arr[indexA] = arr[indexB];\n  arr[indexB] = temp;\n};\n\nvar CustomDragLayer =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CustomDragLayer, _React$Component);\n\n  function CustomDragLayer() {\n    _classCallCheck(this, CustomDragLayer);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CustomDragLayer).apply(this, arguments));\n  }\n\n  _createClass(CustomDragLayer, [{\n    key: \"renderItem\",\n    value: function renderItem(type, item) {\n      var list = document.getElementsByClassName(\"selected\");\n      var imgSources = [];\n\n      for (var i = 0; i < list.length; i = i + 1) {\n        var element = list[i];\n        var imgElement = list[i].firstChild;\n        var img = React.createElement(\"img\", {\n          src: imgElement.src,\n          alt: \"foo\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        });\n        imgSources.push(img);\n\n        if (element.listId === this.props.draggedItem) {\n          img.swap = function (indexA, indexB) {\n            swapArrayElements(this, indexA, indexB);\n          };\n        }\n      }\n\n      console.log(imgSources);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, imgSources);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          item = _this$props.item,\n          itemType = _this$props.itemType,\n          isDragging = _this$props.isDragging;\n\n      if (!isDragging) {\n        return null;\n      }\n\n      return React.createElement(\"div\", {\n        style: layerStyles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: getItemStyles(this.props),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, this.renderItem(itemType, item)));\n    }\n  }]);\n\n  return CustomDragLayer;\n}(React.Component);\n\nCustomDragLayer.propTypes = {\n  item: PropTypes.object,\n  itemType: PropTypes.string,\n  currentOffset: PropTypes.shape({\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired\n  }),\n  isDragging: PropTypes.bool.isRequired\n};\n\nfunction collect(monitor) {\n  return {\n    item: monitor.getItem(),\n    itemType: monitor.getItemType(),\n    currentOffset: monitor.getSourceClientOffset(),\n    isDragging: monitor.isDragging()\n  };\n}\n\nexport default DragLayer(collect)(CustomDragLayer);","map":{"version":3,"sources":["/Users/cfriedri/Documents/work/windowing/src/costumDragLayer.js"],"names":["React","PropTypes","DragLayer","layerStyles","position","pointerEvents","zIndex","left","top","width","height","getItemStyles","props","currentOffset","display","x","y","transform","WebkitTransform","swapArrayElements","arr","indexA","indexB","temp","CustomDragLayer","type","item","list","document","getElementsByClassName","imgSources","i","length","element","imgElement","firstChild","img","src","push","listId","draggedItem","swap","console","log","itemType","isDragging","renderItem","Component","propTypes","object","string","shape","number","isRequired","bool","collect","monitor","getItem","getItemType","getSourceClientOffset"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { DragLayer } from 'react-dnd';\n\nconst layerStyles = {\n  position: 'fixed',\n  pointerEvents: 'none',\n  zIndex: 100,\n  left: 0,\n  top: 0,\n  width: '100%',\n  height: '100%'\n};\n\nfunction getItemStyles(props) {\n  const { currentOffset } = props;\n  if (!currentOffset) {\n    return {\n      display: 'none'\n    };\n  }\n\n  const { x, y } = currentOffset;\n  const transform = `translate(${x}px, ${y}px)`;\n  return {\n    transform: transform,\n    WebkitTransform: transform\n  };\n}\n\n\nlet swapArrayElements = function(arr, indexA, indexB) {\n    var temp = arr[indexA];\n    arr[indexA] = arr[indexB];\n    arr[indexB] = temp;\n};\n\n\nclass CustomDragLayer extends React.Component {\n  renderItem(type, item) {\n    const list = document.getElementsByClassName(\"selected\")\n    let imgSources = []\n    for(let i = 0; i < list.length; i = i + 1){\n        const element =  list[i]\n        const imgElement = list[i].firstChild\n        let img = <img src={imgElement.src} alt=\"foo\"/>\n        imgSources.push(img)\n        if(element.listId === this.props.draggedItem){\n            img.swap = function(indexA, indexB) {\n                swapArrayElements(this, indexA, indexB);\n             };\n        }\n    }\n    console.log(imgSources)\n    return <div>{imgSources}</div>\n  }\n\n  render() {\n    const { item, itemType, isDragging } = this.props;\n    if (!isDragging) {\n      return null;\n    }\n\n    return (\n      <div style={layerStyles}>\n        <div style={getItemStyles(this.props)}>\n          {this.renderItem(itemType, item)}\n        </div>\n      </div>\n    );\n  }\n}\n\nCustomDragLayer.propTypes = {\n  item: PropTypes.object,\n  itemType: PropTypes.string,\n  currentOffset: PropTypes.shape({\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired\n  }),\n  isDragging: PropTypes.bool.isRequired\n};\n\nfunction collect(monitor) {\n  return {\n    item: monitor.getItem(),\n    itemType: monitor.getItemType(),\n    currentOffset: monitor.getSourceClientOffset(),\n    isDragging: monitor.isDragging()\n  };\n}\n\nexport default DragLayer(collect)(CustomDragLayer);"]},"metadata":{},"sourceType":"module"}